@import "tailwindcss";

/* ─────────────────────────────────────────────
   Design tokens – shared (non-theme) part
   ───────────────────────────────────────────── */
:root {
  /* ---------- Radii ---------- */
  --radius-xs: 0.375rem;
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 1.75rem;

  /* ---------- Shadows ---------- */
  --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.55);
  --shadow-strong: 0 24px 60px rgba(15, 23, 42, 0.85);

  /* ---------- Focus ring ---------- */
  --focus-ring:
    0 0 0 1px rgba(148, 163, 184, 0.9),
    0 0 0 4px rgba(79, 70, 229, 0.4);
}

/* ─────────────────────────────────────────────
   DARK THEME – clean, deep navy dashboard
   Applied when <html data-theme="dark">
   ───────────────────────────────────────────── */
:root[data-theme="dark"] {
  color-scheme: dark;

  /* Layers */
  --background: #020617;
  /* slate-950 */
  --foreground: #e5e7eb;
  /* slate-200 */

  --surface-root: #020617;
  /* app shell */
  --surface: #020617;
  /* main cards / panels */
  --surface-soft: #020617;
  /* softer surfaces (rows, dropdowns) */
  --surface-elevated: #020617;
  /* modals / elevated cards */

  /* Borders & text */
  --border-subtle: rgba(148, 163, 184, 0.3);
  --border-strong: rgba(129, 140, 248, 0.7);

  --muted-foreground: #9ca3af;
  --soft-foreground: #64748b;

  /* Accent */
  --accent: #6366f1;
  /* indigo-500 */
  --accent-soft: rgba(99, 102, 241, 0.18);
  --accent-ring: rgba(129, 140, 248, 0.7);

  /* Tonal containers (Material-ish) */
  --success-container: rgba(22, 163, 74, 0.18);
  --on-success-container: #bbf7d0;

  --danger-container: rgba(239, 68, 68, 0.2);
  --on-danger-container: #fee2e2;

  --warning-container: rgba(234, 179, 8, 0.2);
  --on-warning-container: #fef9c3;

  /* Icon/small badge colors */
  --success: #22c55e;
  --danger: #ef4444;
  --warning: #eab308;
}

/* ─────────────────────────────────────────────
   LIGHT THEME – soft gray + white cards
   Applied when <html data-theme="light">
   ───────────────────────────────────────────── */
:root[data-theme="light"] {
  color-scheme: light;

  /* Layers */
  --background: #f3f4f6;
  /* slate-100 */
  --foreground: #020617;
  /* almost-black */

  --surface-root: #f3f4f6;
  --surface: #ffffff;
  /* main cards */
  --surface-soft: #f9fafb;
  /* subtle panels / rows */
  --surface-elevated: #ffffff;
  /* modals / elevated cards */

  /* Borders & text */
  --border-subtle: rgba(148, 163, 184, 0.4);
  --border-strong: rgba(79, 70, 229, 0.7);

  --muted-foreground: #4b5563;
  /* slate-600 */
  --soft-foreground: #9ca3af;

  /* Accent */
  --accent: #4f46e5;
  --accent-soft: rgba(79, 70, 229, 0.08);
  --accent-ring: rgba(79, 70, 229, 0.55);

  /* Tonal containers */
  --success-container: #ecfdf3;
  --on-success-container: #166534;

  --danger-container: #fef2f2;
  --on-danger-container: #b91c1c;

  --warning-container: #fffbeb;
  --on-warning-container: #92400e;

  /* Icon/small badge colors */
  --success: #16a34a;
  --danger: #dc2626;
  --warning: #d97706;
}

/* ─────────────────────────────────────────────
   Base styles – layout, typography, selection
   ───────────────────────────────────────────── */
@layer base {

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html,
  body {
    padding: 0;
    margin: 0;
  }

  body {
    margin: 0;
    background-color: var(--background);
    color: var(--foreground);

    /* Use Geist from layout.tsx when available */
    font-family: var(--font-geist-sans, system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif);

    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    line-height: 1.5;
  }

  code,
  pre {
    font-family: var(--font-geist-mono, ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  }

  ::selection {
    background: color-mix(in srgb, var(--accent) 40%, transparent);
    color: #f9fafb;
  }

  /* Scrollbar (WebKit) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--muted-foreground) 45%, transparent);
    border-radius: 999px;
  }

  h1,
  h2,
  h3,
  h4 {
    letter-spacing: -0.03em;
  }

  a {
    color: var(--accent);
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }
}

/* ─────────────────────────────────────────────
   Component primitives
   ───────────────────────────────────────────── */
@layer components {
  .card {
    background: color-mix(in srgb, var(--surface) 94%, #020617 6%);
    border-radius: var(--radius-2xl);
    border: 1px solid var(--border-subtle);
    box-shadow: var(--shadow-soft);
  }

  .card-soft {
    background: color-mix(in srgb, var(--surface-soft) 96%, transparent);
    border-radius: var(--radius-xl);
    border: 1px solid color-mix(in srgb, var(--border-subtle) 80%, transparent);
  }

  .btn-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    padding-inline: 1rem;
    padding-block: 0.55rem;
    border-radius: 999px;
    font-size: 0.85rem;
    font-weight: 500;
    border: 1px solid transparent;
    cursor: pointer;
    transition:
      background-color 0.18s ease,
      border-color 0.18s ease,
      color 0.18s ease,
      box-shadow 0.18s ease,
      transform 0.1s ease;
  }

  .btn-base:focus-visible {
    outline: none;
    box-shadow: var(--focus-ring);
  }

  .btn-primary {
    background-color: var(--accent);
    color: #e5e7eb;
    border-color: color-mix(in srgb, var(--accent) 70%, transparent);
    box-shadow: 0 10px 25px color-mix(in srgb, var(--accent) 40%, transparent);
  }

  .btn-primary:hover {
    background-color: color-mix(in srgb, var(--accent) 90%, black 8%);
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--muted-foreground);
    border-color: color-mix(in srgb, var(--border-subtle) 40%, transparent);
  }

  .btn-ghost:hover {
    background-color: color-mix(in srgb, var(--surface-soft) 60%, transparent);
    color: var(--foreground);
  }

  .pill {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding-inline: 0.7rem;
    padding-block: 0.25rem;
    border-radius: 999px;
    font-size: 0.7rem;
    font-weight: 500;
    border: 1px solid color-mix(in srgb, var(--border-subtle) 80%, transparent);
    color: var(--soft-foreground);
    background: color-mix(in srgb, var(--surface-soft) 85%, transparent);
  }

  .input-shell {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding-inline: 0.8rem;
    padding-block: 0.5rem;
    border-radius: var(--radius-lg);
    border: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
    background: color-mix(in srgb, var(--surface) 97%, transparent);
  }

  .input-shell input {
    width: 100%;
    background: transparent;
    border: none;
    outline: none;
    font-size: 0.9rem;
    color: var(--foreground);
  }

  .input-shell input::placeholder {
    color: var(--soft-foreground);
  }

  .badge-dot {
    position: relative;
    padding-left: 0.9rem;
  }

  .badge-dot::before {
    content: "";
    position: absolute;
    left: 0.35rem;
    top: 50%;
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background-color: var(--success);
    transform: translateY(-50%);
  }
}

/* ─────────────────────────────────────────────
   Tailwind bindings – map slate utilities to tokens
   ───────────────────────────────────────────── */

/* Main background surfaces */
body .bg-slate-950,
body .bg-slate-950\/80 {
  background-color: var(--surface-root) !important;
}

body .bg-slate-900,
body .bg-slate-900\/80 {
  background-color: var(--surface) !important;
}

body .bg-slate-900\/60,
body .bg-slate-900\/70 {
  background-color: var(--surface-soft) !important;
}

/* FIX: row hover state – keep text visible in light & dark */
body .hover\:bg-slate-900\/70:hover,
body .hover\:bg-slate-900\/60:hover {
  background-color: color-mix(in srgb, var(--surface-soft) 94%, #020617 6%) !important;
}

/* Borders */
body .border-slate-800,
body .border-slate-700 {
  border-color: var(--border-subtle) !important;
}

/* Text colors – remap slate palette to theme tokens */
body .text-slate-950,
body .text-slate-900,
body .text-slate-800,
body .text-slate-700,
body .text-slate-50,
body .text-slate-100,
body .text-slate-200,
body .text-white {
  /* Strong / primary text */
  color: var(--foreground) !important;
}

body .text-slate-600,
body .text-slate-500 {
  /* Secondary / muted text */
  color: var(--muted-foreground) !important;
}

body .text-slate-400,
body .text-slate-300 {
  /* Soft / tertiary text */
  color: var(--soft-foreground) !important;
}

/* Rounded pills */
body .rounded-3xl,
body .rounded-2xl,
body .rounded-full {
  border-radius: var(--radius-2xl) !important;
}

/* Primary / accent buttons */
body .bg-accent,
body .hover\:bg-accent\/90:hover,
body .bg-blue-600,
body .hover\:bg-blue-500:hover {
  background-color: var(--accent) !important;
  color: #e5e7eb !important;
}

/* Assign Zone → success container tonal button */
body .bg-emerald-600,
body .hover\:bg-emerald-500:hover {
  background-color: var(--success-container) !important;
  color: var(--on-success-container) !important;
}

/* Track → danger container tonal button */
body .bg-red-600,
body .bg-red-700,
body .hover\:bg-red-500:hover,
body .hover\:bg-red-600:hover {
  background-color: var(--danger-container) !important;
  color: var(--on-danger-container) !important;
}

/* Logs → warning container tonal button */
body .bg-yellow-500,
body .hover\:bg-yellow-400:hover,
body .bg-\[\#a28f00\],
body .hover\:bg-\[\#c3aa03\]:hover {
  background-color: var(--warning-container) !important;
  color: var(--on-warning-container) !important;
}

/* ─────────────────────────────────────────────
   Mobile responsiveness helpers
   ───────────────────────────────────────────── */
@media (max-width: 640px) {
  body {
    font-size: 0.95rem;
  }

  .card,
  .card-soft {
    border-radius: var(--radius-lg);
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.65);
  }

  .btn-base {
    width: 100%;
    padding-inline: 0.9rem;
  }

  .input-shell {
    padding-inline: 0.7rem;
    padding-block: 0.45rem;
  }

  .scroll-x {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}